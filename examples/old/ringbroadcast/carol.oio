CAROL

channel string@{H} ALICE/RCV;
input string@{H};

var string@{H} msg_out := "";

RCV(string@{H} msg_in : m)
!{
    skip;
}
?{
    oblif msg_in <> msg_out
    then {
        print(msg_in);
        msg_out ?= msg_in;
    }
    else msg_out ?= input(64);
    
    send(ALICE/RCV, msg_out);
}