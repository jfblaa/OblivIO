BOB

channel ALICE/A1@{H} : int@{H} 15 -> 14;

channel ALICE/A2@{H} : int@{H} 3 -> 2;

var bobs_secret : int@{H} = 0;

START@{} (i : int@{}) 0 -> 15 {
    send(ALICE/A1, bobs_secret);
}

B1@{H} (secret : int@{H}) 7 -> 6 {
    oblif secret
    then send(ALICE/A2, secret+1);
    else send(ALICE/A2, secret-1);
}

B2@{H} (secret : int@{H}) 1 -> 0 {
    print("BOB/B2 received secret", secret);
}
